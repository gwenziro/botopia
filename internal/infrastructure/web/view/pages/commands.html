<!-- Debug info for view rendering -->
<script>console.log('Commands page template rendering...');</script>

<div x-data="commandsApp" x-init="initCommands" class="p-commands">
    <!-- Filter & Search Section -->
    <div class="p-command-filter">
        <!-- Search Input -->
        <div class="p-command-search">
            <span class="p-command-search__icon">
                <i class="fas fa-search"></i>
            </span>
            <input 
                type="text" 
                class="p-command-search__input" 
                placeholder="Cari perintah..." 
                x-model="searchQuery"
            >
        </div>
        
        <!-- Category Filter -->
        <select class="p-command-filter__select" x-model="categoryFilter">
            <option value="">Semua Kategori</option>
            <template x-for="category in categories" :key="category">
                <option :value="category" x-text="category"></option>
            </template>
        </select>
        
        <!-- Reset Filters Button -->
        <button 
            class="c-btn c-btn--sm c-btn--outline" 
            @click="resetFilters"
            :disabled="!searchQuery && !categoryFilter"
        >
            <i class="fas fa-times"></i> Reset
        </button>
    </div>
    
    <!-- Loading State -->
    <div x-show="loading" class="p-loading">
        <div class="p-loading__spinner"></div>
        <p class="p-loading__text">Memuat daftar perintah...</p>
    </div>
    
    <!-- Commands Grid -->
    <div x-show="!loading" class="p-command-grid">
        <template x-for="command in filteredCommands" :key="command.name">
            <div class="p-command-card">
                <div class="p-command-card__header">
                    <div class="p-command-card__icon">
                        <i class="fas fa-code"></i>
                    </div>
                    <span class="p-command-card__title" x-text="command.name"></span>
                    <span class="p-command-card__category" x-text="command.category"></span>
                </div>
                <div class="p-command-card__body">
                    <p class="p-command-card__description" x-text="command.description"></p>
                    <div class="p-command-card__usage">
                        <div class="p-command-card__usage-title">Penggunaan</div>
                        <div class="p-command-card__usage-code" x-text="command.usage || '!' + command.name"></div>
                    </div>
                </div>
            </div>
        </template>
    </div>
    
    <!-- Empty State -->
    <div x-show="!loading && filteredCommands.length === 0" class="p-commands-empty">
        <div class="p-commands-empty__icon">
            <i class="fas fa-search"></i>
        </div>
        <h3 class="p-commands-empty__title">Tidak ada perintah yang ditemukan</h3>
        <p class="p-commands-empty__text">
            Tidak ada perintah yang cocok dengan kriteria pencarian Anda. 
            Coba ubah filter atau kata kunci pencarian.
        </p>
        <button class="c-btn c-btn--primary c-btn--sm u-mt-4" @click="resetFilters">
            Reset Filter
        </button>
    </div>
    
    <!-- Hidden Data Element -->
    <script type="application/json" id="commands-data" style="display: none;">
        <!-- Commands data will be injected here by the server -->
    </script>
</div>
