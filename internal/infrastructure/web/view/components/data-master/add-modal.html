<div x-show="showAddModal" 
     class="modal-backdrop"
     x-transition:enter="modal-enter"
     x-transition:leave="modal-leave" 
     x-cloak>
  <div @click.away="showAddModal = false" 
       class="modal-content max-w-md mx-auto">
    <div class="modal-header">
      <h3 class="text-lg font-semibold text-white">
        <span x-text="getModalTitle('add', currentType)"></span>
      </h3>
      <button @click="showAddModal = false" class="text-slate-400 hover:text-white">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="modal-body">
      <form @submit.prevent="addItem()">
        <div class="mb-4">
          <label for="newItemValue" class="block mb-2 text-sm font-medium text-white">
            <span x-text="getFieldLabel(currentType)"></span>
          </label>
          <input type="text" 
                 id="newItemValue" 
                 x-model="newItemValue"
                 class="bg-slate-800 border border-slate-700 text-white text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5" 
                 :class="{'border-red-500': addError}"
                 placeholder="Masukkan nama">
          <div x-show="addError" 
               class="text-red-500 text-sm mt-1" 
               x-text="addError">
          </div>
        </div>
        <div class="flex justify-end gap-2">
          <button type="button" 
                  @click="showAddModal = false" 
                  class="bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm">
            Batal
          </button>
          <button type="submit" 
                  class="bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2"
                  :disabled="isProcessing">
            <span x-show="isProcessing" class="inline-block animate-spin">
              <i class="fas fa-circle-notch"></i>
            </span>
            Simpan
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
